/*! Educational planning application#0.0.1 Copyright ASV*/
"use strict";angular.module("edup.common",["restangular","angularUtils.directives.dirPagination","mgcrea.ngStrap"]),angular.module("edup.common").directive("appModal",function(){return{restrict:"A",link:function(a,b){a.dismissModal=function(){b.modal("hide")}}}}),angular.module("edup.common").directive("windowSize",["$document","$window",function(a,b){return{restrict:"A",link:function(c){var d=b.innerHeight||a.body.clientHeight,e=$("#edupHeader").height();c.viewScrollPaneHeight=d-e-40,console.log(c.viewScrollPaneHeight)}}}]),angular.module("edup.common").filter("toJson",function(){return function(a,b){return angular.toJson(a,b)}}),angular.module("edup.common").config(["paginationTemplateProvider",function(a){a.setPath("/vendor/bower_components/angular-utils-pagination/dirPagination.tpl.html")}]),angular.module("edup.common").run(["Restangular","UrlService","NotificationService",function(a,b,c){a.setBaseUrl(b.BaseUrl),a.setErrorInterceptor(function(a){return c.Error(a),console.log(angular.toJson(a,!0)),!1}),a.setRestangularFields({etag:"versionId"})}]),angular.module("edup.common").service("NotificationService",function(){return alertify.set("notifier","position","bottom-right"),{Success:function(a){alertify.success(a)},Info:function(a){alertify.info(a)},Warn:function(a){alertify.notify(a,"custom",2)},Error:function(a){Alertify.error(a)}}}),angular.module("edup.common").service("PaginationService",function(){var a=function(a){return a.page?a.page*a.perPage:1*a.perPage},b=function(a){return a.page?a.page*a.perPage-a.perPage:1*a.perPage-a.perPage};return{Top:a,Skip:b}}),angular.module("edup.common").service("RestService",["Restangular",function(a){var b=a.one("private");return{Students:b.one("students"),Balance:b.one("balance")}}]),angular.module("edup.common").service("UrlService",function(){var a,b=window.location.hostname;return a=b.indexOf("127.0.0.1")>-1?"https://localhost:8443/edup/api":"https://"+b+":8443/edup/api",{BaseUrl:a,Files:{Info:a+"/private/files",Upload:a+"/private/files/upload",Download:a+"/private/files/download"}}}),angular.module("edup.login",[]),angular.module("edup.login").directive("edupLogin",function(){return{restrict:"E",templateUrl:"edup-login",link:function(){}}}),angular.module("edup.header",["ui.router"]),angular.module("edup.header").controller("HeaderController",["$scope","$location",function(a,b){a.isActive=function(a){return a===b.path()},a.downloadDocument=function(){window.open("https://172.20.10.4:8443/edup/api/documents")}}]),angular.module("edup.header").controller("NavbarController",["$scope","$state",function(a,b){a.calendarModel={items:["Students","Calendar"],states:["students","calendar"],current:0},a.$watch(function(){return a.calendarModel.current},function(c){b.go(a.calendarModel.states[c])})}]),angular.module("edup.header").directive("edupHeader",function(){return{restrict:"E",templateUrl:"edup-header",link:function(){}}}),angular.module("edup.footer",[]),angular.module("edup.footer").controller("FooterController",["$scope","$location","Restangular",function(a,b,c){c.one("ping").get().then(function(b){a.appVersion=b.version})}]),angular.module("edup.footer").directive("edupFooter",function(){return{restrict:"E",templateUrl:"edup-footer",link:function(){}}}),angular.module("edup.calendar",["mwl.calendar","ui.bootstrap","ngAnimate"]),angular.module("edup.calendar").controller("CalendarController",["$scope","$modal","moment","calendarTitle",function(a,b,c,d){function e(a,c){b.open({templateUrl:"modalContent.html",controller:["$scope","$modalInstance",function(b,d){b.$modalInstance=d,b.action=a,b.event=c}]})}var f=function(){a.currentDay=d.month()};f(),a.calendarView="month",a.calendarDay=new Date,a.events=[{title:"My event title",type:"info",startsAt:c().subtract(2,"day").toDate(),endsAt:c().add(2,"days").toDate(),editable:!1,deletable:!1,incrementsBadgeTotal:!0},{title:"This some strange warning event",type:"warning",startsAt:c().startOf("week").subtract(2,"days").add(8,"hours").toDate(),endsAt:c().startOf("week").add(1,"week").add(9,"hours").toDate()},{title:"Information event",type:"info",startsAt:c().subtract(1,"day").toDate(),endsAt:c().add(5,"days").toDate()},{title:"This is a really long and importnat event title",type:"important",startsAt:c().startOf("day").add(5,"hours").toDate(),endsAt:c().startOf("day").add(19,"hours").toDate()}],a.eventClicked=function(b){a.currentDay=this.calendarTitle,e("Clicked",b)},a.eventEdited=function(b){a.currentDay=this.calendarTitle,e("Edited",b)},a.eventDeleted=function(b){a.currentDay=this.calendarTitle,e("Deleted",b)},a.toggle=function(a,b,c){a.preventDefault(),a.stopPropagation(),c[b]=!c[b]},a.setCalendarView=function(b){a.calendarView=b,a.currentDay=this.calendarTitle},a.updateTitle=function(){a.currentDay=this.calendarTitle}}]),angular.module("edup.calendar").directive("сalendar",function(){return{restrict:"E",templateUrl:"calendar",link:function(){}}}),angular.module("edup.students",[]),angular.module("edup.students").controller("StudentAttendanceController",["$scope",function(a){a.attendanceHistory=[{subject:"Math",date:"2015/03/03",amount:15},{subject:"Literature",date:"2015/03/03",amount:15},{subject:"Sport",date:"2015/03/04",amount:20},{subject:"History",date:"2015/03/04",amount:10},{subject:"Math",date:"2015/03/05",amount:15},{subject:"English",date:"2015/03/07",amount:15},{subject:"Sport",date:"2015/03/07",amount:20}]}]),angular.module("edup.students").controller("StudentDocumentsController",["$scope",function(a){a.documents=[{name:"report.docx",date:"2015/03/03",link:"https:/localhost:8443/edup/api/file/report.docx"},{name:"balance.xls",date:"2015/03/04",link:"https:/localhost:8443/edup/api/file/balance.xls"},{name:"photo.jpg",date:"2015/03/04",link:"https:/localhost:8443/edup/api/file/photo.jpg"}]}]),angular.module("edup.students").controller("StudentIdentificationCardController",["$scope",function(){}]),angular.module("edup.students").controller("StudentsController",["$scope","$timeout","RestService","PaginationService","NotificationService",function(a,b,c,d,e){function f(a){return!a||0===a.length}a.studentSelected=!1,a.basicSearch={spin:!1},a.paging={enabled:!1,page:1,perPage:10,totalRecords:0};var g=function(a,b,c,d){var e={};return e.$count=!0,a&&(e.$top=a),a&&(e.$skip=b),a&&(e.$search=c),d&&(e.$orderby=d),e};a.loadFullStudent=function(b){b&&(a.basicSearch.spin=!0,c.Students.one(b.toString()).get().then(function(b){a.selectedStudent=b.payload,a.selectedStudent.balance=b.payload.balance/100,a.studentSelected=!0,a.basicSearch.spin=!1}))},a.loadStudents=function(b,d,e,f){a.basicSearch.spin=!0;var h=g(d,e,f,"Created desc");c.Students.get(h).then(function(c){a.students=c.values,a.paging.totalRecords=c.count,a.students.length>0?a.loadFullStudent(b?b:a.students[0].id):a.studentSelected=!1,a.basicSearch.spin=!1})},a.basicSearch.spin||a.loadStudents(null,d.Top(a.paging),d.Skip(a.paging)),a.setSelected=function(b){a.loadFullStudent(b)},a.addToBalance=function(a){console.log("Add new balance "+a)},a.pageChanged=function(b,c){a.paging.page=b,a.loadStudents(null,d.Top(a.paging),d.Skip(a.paging),c)},a.setRecordsPerPage=function(b){a.paging.perPage=b};var h="";a.executeSearch=function(c){c&&c.length>2?b(function(){a.paging.page=1,a.loadStudents(null,d.Top(a.paging),d.Skip(a.paging),c),h=c},300):f(c)&&h!==c&&b(function(){a.paging.page=1,a.loadStudents(null,d.Top(a.paging),d.Skip(a.paging),null),h=c},300)},a.executeStudentUpdate=function(b){b.id=a.selectedStudent.id,b.versionId=a.selectedStudent.versionId,b&&b.name&&b.lastName&&b.id&&b.versionId&&c.Students.one(b.id.toString()).customPUT(b).then(function(c){a.newStudent=null,a.photoUrl=null,a.photoUploaded=!1,b.versionId=c.payload,e.Success(b.name+" "+b.lastName+" updated!"),a.loadStudents(b.id,d.Top(a.paging),d.Skip(a.paging),null)})}}]),angular.module("edup.students").directive("studentAttendance",function(){return{restrict:"E",templateUrl:"student-attendance",link:function(){}}}),angular.module("edup.students").directive("studentBalance",function(){return{restrict:"E",templateUrl:"student-balance",link:function(a){a.newBalanceValue="",a.openDatePicker=function(){$("#datetimepicker").datetimepicker()}}}}),angular.module("edup.students").directive("studentDetails",function(){return{restrict:"E",templateUrl:"student-details",link:function(a){a.directiveTest="Student input forms"}}}),angular.module("edup.students").directive("studentDocuments",function(){return{restrict:"E",templateUrl:"student-documents",link:function(a){a.directiveTest="Student tabbed pane directive"}}}),angular.module("edup.students").directive("studentIdentificationCard",function(){return{restrict:"E",templateUrl:"student-identification-card",link:function(){}}}),angular.module("edup.students").directive("studentInformation",function(){return{restrict:"E",templateUrl:"student-information",link:function(){}}}),angular.module("edup.students").directive("studentsList",function(){return{restrict:"E",templateUrl:"students-list",link:function(){}}}),angular.module("edup.students").directive("students",function(){return{restrict:"E",templateUrl:"students",link:function(a){a.directiveTest="Students tab directive"}}}),angular.module("edup.widgets",["angularFileUpload","fiestah.money"]),angular.module("edup.students").controller("NewStudentModalController",["$scope","RestService","PaginationService","NotificationService",function(a,b,c,d){var e=function(){a.$broadcast("clearFileUploadQueue",{message:"reset"}),a.newStudent&&(a.newStudent.birthDate=null,a.newStudent.photoUrl=null,a.newStudent.photoId=null),a.newStudent=null,a.photoUrl=null,a.photoUploaded=!1};a.executeStudentSave=function(f){console.log(angular.toJson(f,!0)),f&&f.name&&f.lastName&&(f.photoId=a.id,b.Students.customPOST(f).then(function(b){d.Success("Student "+f.name+" "+f.lastName+" created!"),a.dismissModal(),a.loadStudents(b.payload,c.Top(a.paging),c.Skip(a.paging),null),e()}))},a.executeReset=function(){e()},a.executeCancel=function(){e(),a.dismissModal()}}]),angular.module("edup.widgets").directive("balanceModal",["RestService",function(a){return{restrict:"E",templateUrl:"balance-modal",link:function(b){b.price={amount:0},b.saving=function(c){if(c&&c.amount){var d={studentId:b.selectedStudent.id,amount:100*c.amount,comments:c.comment};a.Balance.customPOST(d).then(function(a){var d=a.payload;d&&(b.selectedStudent.balance+=c.amount,b.balance=null,b.dismissModal())})}},b.resetValue=function(){b.balance=null}}}}]),angular.module("edup.widgets").directive("fileUpload",["UrlService","FileUploader","$window",function(a,b,c){return{restrict:"E",templateUrl:"file-upload",scope:!1,priority:10,link:function(d){d.uploader=new b({url:a.BaseUrl+"/private/files/upload"}),d.uploader.removeAfterUpload=!0,d.deleteItem=function(a){console.log("delete "+a)},d.openDownloadUrl=function(a){c.open(a,"_blank")},d.uploader.onWhenAddingFileFailed=function(a,b,c){console.info("onWhenAddingFileFailed",a,b,c)},d.uploader.onAfterAddingFile=function(a){console.info("onAfterAddingFile",a)},d.uploader.onAfterAddingAll=function(a){console.info("onAfterAddingAll",a)},d.uploader.onBeforeUploadItem=function(a){console.info("onBeforeUploadItem",a)},d.uploader.onProgressItem=function(a,b){console.info("onProgressItem",a,b)},d.uploader.onProgressAll=function(a){console.info("onProgressAll",a)},d.uploader.onSuccessItem=function(a,b,c,d){console.info("onSuccessItem",a,b,c,d)},d.uploader.onErrorItem=function(a,b,c,d){console.info("onErrorItem",a,b,c,d)},d.uploader.onCancelItem=function(a,b,c,d){console.info("onCancelItem",a,b,c,d)},d.uploader.onCompleteItem=function(a,b,c,d){console.info("onCompleteItem",a,b,c,d)},d.uploader.onCompleteAll=function(){console.info("onCompleteAll")}}}}]),angular.module("edup.widgets").directive("newStudentRecord",function(){return{restrict:"E",scope:{loadStudents:"&",paging:"="},templateUrl:"new-student-modal",link:function(){}}}),angular.module("edup.widgets").directive("photoUpload",["UrlService","FileUploader","$window","$timeout","NotificationService",function(a,b,c,d,e){return{restrict:"E",templateUrl:"photo-upload",scope:{id:"=photoId",photoUrl:"="},priority:10,link:function(f){f.uploader=new b({url:a.Files.Upload}),f.uploader.removeAfterUpload=!0,f.deleteItem=function(a){console.log("delete "+a)},f.openDownloadUrl=function(a){c.open(a,"_blank")},f.$on("clearFileUploadQueue",function(){f.uploader.clearQueue(),f.photoUploaded=!1}),f.uploader.onSuccessItem=function(b,c){f.id=c.payload.id,f.photoUrl=a.Files.Download+"/"+f.id,e.Success("Student photo uploaded!"),d(function(){f.photoUploaded=!0},500)},f.uploader.onErrorItem=function(a,b,c,d){e.Error("Failed to upload student photo!"),console.info("onErrorItem",a,b,c,d)}}}}]),angular.module("edup.tabs",["edup.widgets","edup.calendar","edup.students"]),angular.module("edup",["edup.tabs","edup.login","edup.header","edup.footer","edup.common"]),angular.module("edup").config(["$stateProvider",function(a){a.state("students",{templateUrl:"students",url:"/students",controller:"StudentsController"}).state("calendar",{templateUrl:"calendar",url:"/calendar",controller:"CalendarController"})}]),angular.module("edup").run(["$templateCache",function(a){a.put("edup-footer",'<div ng-controller=FooterController><nav class="navbar navbar-default" style="margin-bottom: 0px !important; margin-top: auto !important"><div class="navbar-text text-center" style="width: 100%">Application version: {{ appVersion }}</div></nav></div>'),a.put("edup-header",'<div ng-controller=HeaderController><nav class="navbar navbar-default"><div class=container-fluid><div class=navbar-header><button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=#bs-example-navbar-collapse-1><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href="">Educational planning application</a></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav"><li ng-class="{ active: isActive(\'/students\')}"><a href=#students>Students<span class=sr-only>(current)</span></a></li><li ng-class="{ active: isActive(\'/calendar\')}"><a href=#calendar>Calendar</a></li><li class=dropdown><a href=#report class=dropdown-toggle data-toggle=dropdown role=button aria-expanded=false>Reports<span class=caret></span></a><ul class=dropdown-menu role=menu><li ng-click=downloadDocument()><a href=#>Visiting Journal</a></li><li><a href=#>Another action</a></li><li><a href=#>Something else here</a></li><li class=divider></li><li><a href=#>Separated link</a></li><li class=divider></li><li><a href=#>One more separated link</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right"><li><a href=#>Log out</a></li></ul></div></div></nav></div>'),a.put("edup-login",'<div class=login-container><div id=output></div><div class=avatar></div><div class=form-box><form name=form action=j_security_check method=post ng-submit=login(event)><input name=j_username placeholder=username id=text ng-model=username required> <input type=password name=j_password placeholder=password id=password ng-model=password required> <button class="btn btn-info btn-block login" type=submit>Login</button></form></div></div>'),a.put("calendar",'<div class=mainForm ng-controller=CalendarController><div class="col-md-12 column"><div class="col-md-3 form-inline"><div class="btn-group pull-left"><button class="btn btn-primary btn-sm" ng-click=updateTitle() mwl-date-modifier date=calendarDay decrement=calendarView>&lt;&lt; Prev</button> <button class="btn btn-sm" ng-click=updateTitle() mwl-date-modifier date=calendarDay set-to-today>Today</button> <button class="btn btn-primary btn-sm" ng-click=updateTitle() mwl-date-modifier date=calendarDay increment=calendarView>Next &gt;&gt;</button></div></div><div class=col-md-2><div class=btn-group><h4>{{ currentDay }}</h4></div></div><div class="col-md-3 form-inline"><div class="btn-group pull-right"><button class="btn btn-primary btn-sm" ng-click="setCalendarView(\'year\')">Year</button> <button class="btn btn-primary btn-sm" ng-click="setCalendarView(\'month\')">Month</button> <button class="btn btn-primary btn-sm" ng-click="setCalendarView(\'week\')">Week</button> <button class="btn btn-primary btn-sm" ng-click="setCalendarView(\'day\')">Day</button></div></div><div class="col-md-4 form-inline"><h4>Today events:</h4></div></div><div class="col-md-12 column" style="padding-top: 20px"><div class="col-md-8 column"><mwl-calendar events=events view=calendarView view-title=calendarTitle current-day=calendarDay on-event-click=eventClicked(calendarEvent) edit-event-html="\'<i class=\\\'glyphicon glyphicon-pencil\\\'></i>\'" delete-event-html="\'<i class=\\\'glyphicon glyphicon-remove\\\'></i>\'" on-edit-event-click=eventEdited(calendarEvent) on-delete-event-click=eventDeleted(calendarEvent)></mwl-calendar></div><div class="col-md-4 column"><div ng-repeat="event in events"><h4><div class=label ng-class="{ \'label-primary\': event.type === \'info\', \'label-warning\': event.type === \'warning\', \'label-danger\': event.type === \'important\'}" data-toggle=tooltip data-placement=top title="Tooltip on top" tooltip="{{ event.title }}" tooltip-trigger="{{{true: \'mouseenter\', false: \'never\'}[myForm.username.$invalid]}}">({{event.startsAt | date:\'HH:mm\'}} - {{event.endsAt | date:\'HH:mm\'}}) {{event.title | limitTo: 33}} {{event.title.length > 33 ? \'...\' : \'\'}}</div></h4></div></div></div></div>'),a.put("student-attendance",'<div class=mainForm ng-controller=StudentAttendanceController><div class="row clearfix"><div class="col-md-12 column"><table class=pull-right width=400px><tr><td style="border-top: none"><h3><span class="label label-info pull-right">{{ selectedStudent.fullName }}</span></h3></td><td rowspan=2 style="border-top: none" width=180px><img alt=140x140 src={{selectedStudent.photoUrl}} class="img-rounded pull-right"></td></tr><tr class=active><td style="border-top: none"><h3><span class="label pull-right" ng-class="{\'label-danger\' :  selectedStudent.balance < 0, \'label-success\' :  selectedStudent.balance > 0, \'label-primary\' :  selectedStudent.balance == 0}">{{ selectedStudent.balance }} EUR</span></h3></td></tr></table></div></div><fieldset class="row clearfix scheduler-border"><legend class=scheduler-border>History of attendances</legend><div class="col-md-12 column"><table class="table table-hover"><thead><tr><th>Subject name</th><th>Date</th><th>Amount</th></tr></thead><tbody><tr ng-repeat="event in attendanceHistory" ng-class-odd="\'success\'" ng-class-even="\'active\'"><td>{{ event.subject }}</td><td>{{ event.date }}</td><td>{{ event.amount }} EUR</td></tr></tbody></table><div class=text-center><ul class="pagination pagination-sm"><li><a href=#>Prev</a></li><li><a href=#>1</a></li><li><a href=#>2</a></li><li><a href=#>3</a></li><li><a href=#>4</a></li><li><a href=#>5</a></li><li><a href=#>Next</a></li></ul></div></div></fieldset><div class="row clearfix"><div class="col-md-12 column"><button type=button class="btn btn-success pull-right">Add new attendance</button></div></div></div>'),a.put("student-balance",'<div class=mainForm><div class="row clearfix"><div class="col-md-12 column"><table class=pull-right width=400px><tr><td style="border-top: none"><h3><span class="label label-info pull-right">{{ selectedStudent.fullName }}</span></h3></td><td rowspan=2 style="border-top: none" width=180px><img alt=140x140 src={{selectedStudent.photoUrl}} class="img-rounded pull-right"></td></tr><tr class=active><td style="border-top: none"><h3><span class="label pull-right" ng-class="{\'label-danger\' :  selectedStudent.balance < 0, \'label-success\' :  selectedStudent.balance > 0, \'label-primary\' :  selectedStudent.balance == 0}">{{ selectedStudent.balance }} EUR</span></h3></td></tr></table></div></div><form class=form-horizontal><fieldset><legend>Add money to account</legend><div class=form-group><label class="col-md-4 control-label" for=amountTextInput>Amount</label><div class=col-md-4><input ng-model=newBalanceValue id=amountTextInput name=textinput placeholder=amount class="form-control input-md"></div></div><div class=form-group><label class="col-md-4 control-label" for=addToBalanceButton></label><div class=col-md-4><button ng-click=addToBalance(newBalanceValue) id=addToBalanceButton name=payButton class="btn btn-success pull-right">Add to balance</button></div></div></fieldset></form><form class=form-horizontal><fieldset><legend>Make payment</legend><div class=form-group><label class="col-md-4 control-label" for=subjectList>Subject</label><div class=col-md-4><select id=subjectList name=subjectList class=form-control><option value=1>History</option><option value=2>English</option><option value=3>Math</option><option value=4>Biology</option></select></div></div><div class=form-group><label class="col-md-4 control-label">Date</label><div class=col-md-4><app-date-picker selected-value=selectedStudent.birthDate></app-date-picker></div></div><div class=form-group><label class="col-md-4 control-label" for=payButton></label><div class=col-md-4><button id=payButton name=payButton class="btn btn-success pull-right">Pay</button></div></div></fieldset></form></div>'),a.put("student-details",'<div app-modal id=student-details-modal-view class="modal fade bs-example-modal-lg" tabindex=-1 role=dialog aria-labelledby=myLargeModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class="modal-content modalViewPadding"><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>×</button><h4 class=modal-title id=myModalLabel>Student details</h4></div><div role=tabpanel><ul class="nav nav-tabs" role=tablist><li role=presentation ng-class="{ active: isActive(\'/information\')}"><a href=#information aria-controls=home role=tab data-toggle=tab>Information</a></li><li role=presentation ng-class="{ active: isActive(\'/balance\')}"><a href=#balance aria-controls=profile role=tab data-toggle=tab>Balance</a></li><li role=presentation ng-class="{ active: isActive(\'/documents\')}"><a href=#documents aria-controls=messages role=tab data-toggle=tab>Documents</a></li><li role=presentation ng-class="{ active: isActive(\'/attendance\')}"><a href=#attendance aria-controls=settings role=tab data-toggle=tab>Attendance</a></li></ul><div class=tab-content><div role=tabpanel class="tab-pane active" id=information><student-information></student-information></div><div role=tabpanel class=tab-pane id=balance><student-balance></student-balance></div><div role=tabpanel class=tab-pane id=documents><student-documents></student-documents></div><div role=tabpanel class=tab-pane id=attendance><student-attendance></student-attendance></div></div></div></div></div></div>'),a.put("student-documents",'<div class=mainForm ng-controller=StudentDocumentsController><div class="row clearfix"><div class="col-md-12 column"><table class=pull-right width=400px><tr><td style="border-top: none"><h3><span class="label label-info pull-right">{{ selectedStudent.fullName }}</span></h3></td><td style="border-top: none" width=180px><img alt=140x140 src={{selectedStudent.photoUrl}} class="img-rounded pull-right"></td></tr></table></div></div><fieldset class="row clearfix scheduler-border"><legend class=scheduler-border>List of documents</legend><div class="col-md-12 column"><table class="table table-hover"><thead><tr><th>Document name</th><th>Date loaded</th><th></th></tr></thead><tbody><tr ng-repeat="document in documents" ng-class-odd="\'success\'" ng-class-even="\'active\'"><td>{{ document.name }}</td><td>{{ document.date }}</td><td><a href="{{ document.link }}">Download</a></td></tr></tbody></table><div class=text-center><ul class="pagination pagination-sm"><li><a href=#>Prev</a></li><li><a href=#>1</a></li><li><a href=#>2</a></li><li><a href=#>3</a></li><li><a href=#>4</a></li><li><a href=#>5</a></li><li><a href=#>Next</a></li></ul></div></div></fieldset><div class="row clearfix"><div class="col-md-12 column"><button type=button class="btn btn-success pull-right">Add new document</button></div></div></div>'),a.put("student-identification-card",'<div ng-controller=StudentIdentificationCardController><form class=form-horizontal style="border: 1px solid #d3d3d3;background-color: #ededed; border-radius: 5px; padding: 10px"><fieldset><legend>Identification card</legend><div class="col-md-12 column"><table class=identification-card width=100%><tr><td><h4><b>{{ selectedStudent.name }} {{ selectedStudent.lastName}}</b></h4></td><td rowspan=2 width=180px><img alt=140x140 src={{selectedStudent.photoUrl}} class="img-rounded pull-right"></td></tr><tr><td><h4>{{ selectedStudent.personId }}</h4></td></tr></table></div><div class="col-md-12 column" style="padding-top: 20px"><table class=identification-card width=100%><tr><td>Phone number:</td><td>{{ selectedStudent.mobile }}</td></tr><tr><td>Current balance:</td><td>{{ selectedStudent.balance | number : 2}} EUR</td><td><button type=button class="btn btn-primary btn-sm pull-right" data-toggle=modal data-target=#addToBalanceModalView>Add to balance</button></td></tr></table></div><div class="col-md-12 column" style="padding-top: 10px"><button type=button class="btn btn-primary btn-sm" style="width: 100%">Attendance history</button></div></fieldset></form><balance-modal></balance-modal></div>'),a.put("student-information",'<div class=mainForm><div class="row clearfix"><form role=form><div class="col-md-6 column"><div class="col-md-6 column"><div class=form-group><label for=studentName>Name</label><input class=form-control id=studentName ng-model=studentEdit.name required></div><div class=form-group><label for=studentLastName>Last name</label><input type=tel class=form-control id=studentLastName ng-model=studentEdit.lastName required></div></div><div class="col-md-6 column"><div class=form-group><label for=studentMobile>Mobile</label><input class=form-control id=studentMobile ng-model="studentEdit.mobile"></div><div class=form-group><label for=studentPersonalNumber>Personal number</label><input class=form-control id=studentPersonalNumber ng-model="studentEdit.personId"></div></div><div class="col-md-12 column"><div class=form-group><label for=parentInformationInput>Parent information</label><textarea ng-model=studentEdit.parentsInfo class="form-control fixedTextArea" id=parentInformationInput name=parentInformationInput></textarea></div><div class=form-group><label for=characteristicsInput>Characteristics</label><textarea ng-model=studentEdit.characteristics class="form-control fixedTextArea" id=characteristicsInput name=characteristicsInput></textarea></div></div></div><div class="col-md-6 column"><div class="col-md-12 column"><div class=form-group><label for=studentMail>e-mail</label><input class=form-control id=studentMail ng-model="studentEdit.mail"></div><div class=form-group><label for=datePickerInput>Birthday</label><div class="input-group date" id=dateTimePicker><input app-date-picker ng-value="studentEdit.birthDate | date" picker-value=studentEdit.birthDate id=datePickerInput class="form-control"> <span class=input-group-addon><span class="glyphicon glyphicon-calendar"></span></span></div></div></div><div class="col-md-12 row"><photo-upload photo-id=studentEdit.photoId photo-url=studentEdit.photoUrl></photo-upload></div></div><div class="col-md-12 column" style="padding-top: 10px"><button type=submit class="btn btn-success btn-sm" ng-click=executeStudentUpdate(studentEdit)>Update</button></div></form></div></div>'),a.put("students-list",'<div><div class=row><div class=col-xs-8><div class=input-group><span class=input-group-addon id=basic-addon1 ng-class="{\'glyphicon glyphicon-refresh searchTextInput\': basicSearch.spin , \'glyphicon glyphicon-search searchTextInput\': !basicSearch.spin}"></span> <input class=form-control placeholder=search ng-model=searchValue ng-keyup=executeSearch(searchValue)></div></div><div class=col-xs-3><div class=btn-group role=group aria-label=...><button type=button class="btn btn-default" ng-class="{ active: paging.perPage === 10}" ng-click=setRecordsPerPage(10)>10</button> <button type=button class="btn btn-default" ng-class="{ active: paging.perPage === 25}" ng-click=setRecordsPerPage(25)>25</button> <button type=button class="btn btn-default" ng-class="{ active: paging.perPage === 50}" ng-click=setRecordsPerPage(50)>50</button></div></div><div class=col-xs-1><h4><span class="glyphicon glyphicon-plus pull-right" style="cursor: pointer" data-toggle=modal data-target=#addNewStudentModalView ng-click="newStudent = null"></span></h4></div></div><table class="table table-hover"><thead><tr><th>Name</th><th>Last name</th><th>Age</th><th>ID</th><th>Phone</th><th></th></tr></thead><tbody><tr dir-paginate="student in students | itemsPerPage: paging.perPage" current-page=paging.page total-items=paging.totalRecords ng-class-odd="\'success\'" ng-class-even="\'active\'" ng-click=setSelected(student.id) ng-class="{\'selected\': student.id === selectedStudent.id}"><td>{{ student.name }}</td><td>{{ student.lastName }}</td><td>{{ student.age }}</td><td>{{ student.personId }}</td><td>{{ student.mobile }}</td><td><button type=button class="btn btn-primary btn-xs" data-toggle=modal data-target=#student-details-modal-view ng-click="selectedStudent = student">Details</button></td></tr></tbody></table><div class=row><div class="col-xs-12 text-center"><dir-pagination-controls on-page-change="pageChanged(newPageNumber, searchValue)"></dir-pagination-controls></div></div><student-details></student-details><new-student-record load-students=loadStudents paging=paging></new-student-record></div>'),a.put("students",'<div class=mainForm ng-controller=StudentsController><div class="row clearfix"><div class="col-md-7 column"><students-list></students-list></div><div class="col-md-5 column" ng-show=studentSelected><student-identification-card></student-identification-card></div></div></div>'),a.put("balance-modal",'<div app-modal id=addToBalanceModalView class="modal fade bs-example-modal-sm" tabindex=-1 role=dialog aria-labelledby=mySmallModalLabel aria-hidden=true><div class="modal-dialog modal-sm"><div class="modal-content modalViewPadding"><form class=form-horizontal><fieldset><legend>Add money to account</legend><form class="ng-valid ng-dirty"><div class=form-group><label for=amount>Enter a monetary amount:</label><div class=input-group><span class=input-group-addon>€</span> <input id=amount class="form-control ng-valid ng-valid-min ng-dirty ng-valid-number" money="" ng-model=balance.amount autofocus precision=2></div></div><div class=form-group><label for=comments>Comments</label><textarea ng-model=balance.comment class="form-control fixedTextArea" id=comments name=comments></textarea></div></form><div class="form-group text-center"><button ng-click=saving(balance) id=addToBalanceButton class="btn btn-success btn-sm">Save</button> <button ng-click=resetValue() id=clearBalanceUpdate type=reset class="btn btn-primary btn-sm">Reset</button> <button id=cancelBalanceUpdate class="btn btn-warning btn-sm" data-dismiss=modal ng-click="balance = null">Cancel</button></div></fieldset></form></div></div></div>'),a.put("file-upload",'<div ng-if=uploader><input type=file nv-file-select uploader="uploader"></div><h3>Upload queue</h3><p>Queue length: {{ uploader.queue.length }}</p><table class=table><thead><tr><th width=50%>Name</th><th ng-show=uploader.isHTML5>Size</th><th ng-show=uploader.isHTML5>Progress</th><th>Status</th><th>Actions</th></tr></thead><tbody><tr ng-repeat="item in uploader.queue"><td><strong>{{ item.file.name }}</strong></td><td ng-show=uploader.isHTML5 nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td><td ng-show=uploader.isHTML5><div class=progress style="margin-bottom: 0"><div class=progress-bar role=progressbar ng-style="{ \'width\': item.progress + \'%\' }"></div></div></td><td class=text-center><span ng-show=item.isSuccess><i class="glyphicon glyphicon-ok"></i></span> <span ng-show=item.isCancel><i class="glyphicon glyphicon-ban-circle"></i></span> <span ng-show=item.isError><i class="glyphicon glyphicon-remove"></i></span></td><td nowrap><button type=button class="btn btn-success btn-xs" ng-click=item.upload() ng-disabled="item.isReady || item.isUploading || item.isSuccess"><span class="glyphicon glyphicon-upload"></span> Upload</button> <button type=button class="btn btn-warning btn-xs" ng-click=item.cancel() ng-disabled=!item.isUploading><span class="glyphicon glyphicon-ban-circle"></span> Cancel</button> <button type=button class="btn btn-danger btn-xs" ng-click=item.remove()><span class="glyphicon glyphicon-trash"></span> Remove</button></td></tr></tbody></table><div><div>Queue progress:<div class=progress><div class=progress-bar role=progressbar ng-style="{ \'width\': uploader.progress + \'%\' }"></div></div></div><button type=button class="btn btn-success btn-sm" ng-click=uploader.uploadAll() ng-disabled=!uploader.getNotUploadedItems().length><span class="glyphicon glyphicon-upload"></span> Upload All</button> <button type=button class="btn btn-warning btn-sm" ng-click=uploader.cancelAll() ng-disabled=!uploader.isUploading><span class="glyphicon glyphicon-ban-circle"></span> Cancel All</button> <button type=button class="btn btn-danger btn-sm" ng-click=uploader.clearQueue() ng-disabled=!uploader.queue.length><span class="glyphicon glyphicon-trash"></span> Remove All</button></div>'),a.put("new-student-modal",'<div app-modal ng-controller=NewStudentModalController id=addNewStudentModalView class="modal fade bs-example-modal-lg" tabindex=-1 role=dialog aria-labelledby=myLargeModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class="modal-content modalViewPadding"><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>×</button><h4 class=modal-title id=myModalLabel>Add new student</h4></div><div style="padding-top: 20px; padding-bottom: 10px"><div class="row clearfix"><form role=form><div class="col-md-6 column"><div class="col-md-6 column"><div class=form-group><label for=studentName>Name</label><input class=form-control id=studentName ng-model=newStudent.name required></div><div class=form-group><label for=studentLastName>Last name</label><input type=tel class=form-control id=studentLastName ng-model=newStudent.lastName required></div></div><div class="col-md-6 column"><div class=form-group><label for=studentMobile>Mobile</label><input class=form-control id=studentMobile ng-model="newStudent.mobile"></div><div class=form-group><label for=studentPersonalNumber>Personal number</label><input class=form-control id=studentPersonalNumber ng-model="newStudent.personId"></div></div><div class="col-md-12 column"><div class=form-group><label for=parentInformationInput>Parent information</label><textarea ng-model=newStudent.parentsInfo class="form-control fixedTextArea" id=parentInformationInput name=parentInformationInput></textarea></div><div class=form-group><label for=characteristicsInput>Characteristics</label><textarea ng-model=newStudent.characteristics class="form-control fixedTextArea" id=characteristicsInput name=characteristicsInput></textarea></div></div></div><div class="col-md-6 column"><div class="col-md-12 column"><div class=form-group><label for=studentMail>e-mail</label><input class=form-control id=studentMail ng-model="newStudent.mail"></div><div class=form-group><label for=datePickerInput>Birthday</label><div class="input-group date" id=dateTimePicker><input id=datePickerInput type=datetime date-time ng-model=newStudent.birthDate view=year max-view=year min-view=date auto-close=true><div date-picker=start min-view=year></div><span class=input-group-addon><span class="glyphicon glyphicon-calendar"></span></span></div></div></div><div class="col-md-12 row"><photo-upload photo-id=newStudent.photoId photo-url=newStudent.photoUrl></photo-upload></div></div><div class="col-md-12 column" style="padding-top: 10px"><button type=submit class="btn btn-success btn-sm" ng-click=executeStudentSave(newStudent)>Save</button> <button type=reset class="btn btn-primary btn-sm" ng-click=executeReset()>Reset</button> <button type=reset class="btn btn-warning btn-sm" ng-click=executeCancel()>Cancel</button></div></form></div></div></div></div></div>'),a.put("photo-upload",'<div style="padding: 10px"><div><div ng-if=uploader><input type=file nv-file-select uploader="uploader"></div><table class=table><thead><tr><th width=50%>Name</th><th ng-show=uploader.isHTML5>Size</th><th ng-show=uploader.isHTML5>Progress</th><th>Status</th><th>Actions</th></tr></thead><tbody><tr ng-repeat="item in uploader.queue"><td><strong>{{ item.file.name }}</strong></td><td ng-show=uploader.isHTML5 nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td><td ng-show=uploader.isHTML5><div class=progress style="margin-bottom: 0"><div class=progress-bar role=progressbar ng-style="{ \'width\': item.progress + \'%\' }"></div></div></td><td class=text-center><span ng-show=item.isSuccess><i class="glyphicon glyphicon-ok"></i></span> <span ng-show=item.isCancel><i class="glyphicon glyphicon-ban-circle"></i></span> <span ng-show=item.isError><i class="glyphicon glyphicon-remove"></i></span></td><td nowrap><button type=button class="btn btn-success btn-xs" ng-click=item.upload() ng-disabled="item.isReady || item.isUploading || item.isSuccess"><span class="glyphicon glyphicon-upload"></span> Upload</button></td></tr></tbody></table></div><div ng-show=photoUploaded><img alt=140x140 src={{photoUrl}} class="img-rounded text-center"></div></div>')
}]);